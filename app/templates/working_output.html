<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>Trip-a-Wiser</title>
    
    <!-- Bootstrap core CSS -->
    <link href="../static/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../static/css/leaflet.css" />

    <!-- Custom styles for this template -->
    <link href="starter-template.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="../../assets/js/ie-emulation-modes-warning.js"></script>
    <script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script 

src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
<!--
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
           
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#contact">Contact</a></li>
          </ul>
        </div> 
      </div>
    </div> -->

<br><br> 


    <div class="container">
 
    <div class = "container">

     

  
 

      </form>
    </div>
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="static/js/bootstrap.min.js"></script>

  </div> <!-- /.container-->

    <div class="container">
      <div class="starter-template">
        
         
      </div>

     


     </div><!-- /.container -->



    <div class="container">
      <div class="starter-template">
           <br><br>
        <h3> <center>Your Itinerary </center></h3> <br>
  <div id="onecol"> 
          Based on your interest in {{user_features}}, this is our recommended intinerary for you. <br><br>
  </div> 
       <div id="section1"> 

         
         <script> var tmp = "{{attraction_list}}"; var res=tmp.split(",") </script>
         <script> var tmp4 = "{{attraction_desc}}"; var resdesc=tmp4.split(',') 
          
           
         </script>
     <br>
         <script> 
          var tmp1 = "{{allmypics}}"; var respic=tmp1.split(",") 
           
          for (i = 1; i < respic.length; i++) { 
                 respic[i] = respic[i].substring(1) }
         </script>

         <script> 
         
         for (i = 0; i < respic.length; i++) {
            if (i > 0){
               document.write(i + res[i] + "<br>") 
               document.write(resdesc[i-1]+ "<br><br>")
               document.write("<img src=\"../static/images/" + respic[i] + ".jpg"+ "\" width=\"400\" alt=\"previous\" title=\"Previous\" border=\"0\">" +  "<br><br><br>" ) }
            
          } 


         </script>
	 </div>  
 

         <div id="section2">  <br>
          <div id="map"></div>    
	  <script>
          var tmp = "{{mapcenter}}"; var resc = tmp.split(",");
	  var map = L.map('map').setView([resc[0],resc[1]], 13);  
           
        L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
    attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
    maxZoom: 18,
    id: 'mapbox.streets',
    accessToken: 'pk.eyJ1Ijoic21hcmdzIiwiYSI6ImNpanZ4MG14bTBjcnp1MGx6dHdiNW0wYjgifQ.RxvgVaiOncBk2buSsKSj2w'
}).addTo(map); 

       


  var tmp = "{{fin_latlons}}"; var res2=tmp.split(",")
                             res2[0] = res2[0].substring(1)  
                              var url = 'https://www.google.com/maps/dir/';
                            for (i = 1; i < res2.length/2; i++) { 
                             
                                 L.marker([res2[2*i-2], res2[2*i-1]]).addTo(map).bindPopup(res[i-1])
                                  if (i == 1){
                                 var url = url.concat('(',res2[2*i-2],',',res2[2*i-1].substring(1),')','/') }
                                    else{
                                   var url = url.concat('(',res2[2*i-2].substring(1),',',res2[2*i-1].substring(1),')','/') } 
   
                              }
                          
       document.write("<a href="+ url +">click here for directions on googlemaps</a>")
	  </script> 
 
</div>  
 
<br>

        
	 
	  


   
	 <br><br><br>
                                    
      </div> 
        
      <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
      <script src="static/js/bootstrap.min.js"></script>


     </div><!-- /.container -->


  <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="../../dist/js/bootstrap.min.js"></script>
  </body>
</html>







